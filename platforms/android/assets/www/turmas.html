<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="stylesheet" type="text/css"
	href="css/jquery.mobile-1.4.5.min.css">
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>

<script type="text/javascript" src="Dao/configure.js"></script>
<script type="text/javascript" src="Dao/turmasDao.js"></script>
<script type="text/javascript" src="controllers/turmasController.js"></script>

<title>Semestres</title>
</head>
<body>
	<script>
		$(function() {
			var curso = controller.getNomeCurso();
			$("#curso").text(curso);
		});
	</script>
	<div data-role="controlgroup" data-type="horizontal">
	    <button onclick="controller.voltar('cursos')"
			class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-back">Cursos</button>
		<button onclick="controller.voltar('semestres')"
			class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-back">Semestres</button>
	</div>

	<element>
	<center>
		<h3>
			Exibindo Turmas do <span id="semestre"></span>ยบ Semestre do Curso de
			<div id="curso"></div>
		</h3>
		
		<input id="imgCarregando" type="image" src="img/carregando.gif" />
		
		<div data-role="controlgroup" id="turmas"></div>

	</center>
	</element>
	<script>
		var turmas = controller.getTurmas();
		
		$("#semestre").text(semestre);
		$("#curso").text(cursoNome);
		
		if(turmas.length > 0){

			$('#imgCarregando').hide();
			
			for(var i = 0; i < turmas.length; i++){
				$("#turmas").append("<a class='ui-btn ui-corner-all' onclick=\"controller.setTurma('"+ turmas[i].Codigo.replace(/'/g,"\\'") + "')\">"+ turmas[i].Codigo.replace(/'/g,"\\'") + "</button>");
			}
		} else {
			$('#imgCarregando').hide();
			$("#turmas").append('<h3 style="color:red">Nenhuma turma foi encontrada!</h3>');
		}
		
	</script>

</body>
</html>